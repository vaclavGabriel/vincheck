<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>
      Provƒõ≈ôen√≠ vozidla zdarma a rychle. Kontrola st√°≈ô√≠, motorizace, karoserie
      vozidla. | VIN Info.cz
    </title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <meta
      name="description"
      content="Kontrola vozidla v registru. Zkontrolujte VIN k√≥d nebo ƒç√≠slo TP/ORV a z√≠skejte p≈ô√≠stup k d≈Øle≈æit√Ωm √∫daj≈Øm spojen√Ωm s dan√Ωm vozidlem. Kontrola st√°≈ô√≠, barvy, motorizace a dal≈°√≠ch √∫daj≈Ø zdarma."
    />

    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-W4YSVMMPQ9"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-W4YSVMMPQ9");
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark fixed-top"
      style="background-color: #c6dbad"
    >
      <div class="container-fluid">
        <a class="navbar-brand text-muted" href="https://vininfo.cz/"
          >VIN Info.cz</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active text-dark" aria-current="page" href="/"
                >Kontrola VIN/TP/ORV</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-muted"
                href="https://online.pojisteni.cz/vozidla/srovnani?ap=AWYPy1"
                target="_blank"
                >Povinn√© ruƒçen√≠ üîó</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-muted"
                href="https://online.pojisteni.cz/vozidla/srovnani?ap=AWYPy1"
                target="_blank"
                >Havarijn√≠ poji≈°tƒõn√≠ üîó</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-muted"
                href="https://cz.cebia.com/?vin"
                target="_blank"
                >Kompletn√≠ historie vozu üîó</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container mt-5">
      <h2>Kontrola vozidla v registru</h2>
      <p>
        P≈ôi koupi ojet√©ho vozidla je d≈Øle≈æit√© provƒõ≈ôit jeho historii a technick√Ω
        stav. S na≈°√≠m n√°strojem m≈Ø≈æete zdarma zkontrolovat kl√≠ƒçov√© informace
        spojen√© s dan√Ωm vozidlem v ƒçesk√© registru vozidel. Staƒç√≠ zadat VIN k√≥d
        nebo ƒç√≠slo TP/ORV a z√≠sk√°te p≈ô√≠stup k d≈Øle≈æit√Ωm √∫daj≈Øm.
      </p>

      <div class="row mt-5" id="searchSection">
        <div class="col-md-12 mb-1">
          <p>
            <strong>Tip:</strong> VIN k√≥d je unik√°tn√≠ identifik√°tor vozidla
            skl√°daj√≠c√≠ se ze 17 znak≈Ø. M≈Ø≈æete tak√© vyu≈æ√≠t unik√°tn√≠
            identifik√°tory vozidel v ƒåesk√© republice, jako je ƒç√≠slo TP (ƒç√≠slo
            velk√©ho technick√©ho pr≈Økazu) nebo ƒç√≠slo ORV (Osvƒõdƒçen√≠ o registraci
            vozidla, zn√°m√© tak√© jako "mal√Ω techniƒç√°k").
          </p>
        </div>

        <div class="col-md-6">
          <label for="vinInput" class="form-label">Zadejte VIN k√≥d:</label>
          <input
            type="text"
            class="form-control"
            id="vinInput"
            placeholder="Nap≈ô. WF0FXXWPCFHD05923"
          />
        </div>
        <div
          class="col-md-6 d-flex align-items-end justify-content-md-end mt-md-0 mt-3"
        >
          <button
            class="btn btn-primary w-100"
            onclick="getVehicleInfo()"
            id="getInfoBtn"
            disabled
          >
            Vyhledat vozidlo dle VIN
          </button>
        </div>

        <div class="col-md-6 mt-5">
          <label for="tpInput" class="form-label">Zadejte ƒç√≠slo TP:</label>
          <input
            type="text"
            class="form-control"
            id="tpInput"
            placeholder="Nap≈ô. UI036202"
          />
        </div>
        <div
          class="col-md-6 d-flex align-items-end justify-content-md-end mt-md-0 mt-3"
        >
          <button
            class="btn btn-primary w-100"
            onclick="getVehicleInfo()"
            id="getTpInfoBtn"
            disabled
          >
            Vyhledat vozidlo dle TP
          </button>
        </div>

        <div class="col-md-6 mt-5">
          <label for="orvInput" class="form-label">Zadejte ƒç√≠slo ORV:</label>
          <input
            type="text"
            class="form-control"
            id="orvInput"
            placeholder="Nap≈ô. UAA000000"
          />
        </div>
        <div
          class="col-md-6 d-flex align-items-end justify-content-md-end mt-md-0 mt-3"
        >
          <button
            class="btn btn-primary w-100"
            onclick="getVehicleInfo()"
            id="getOrvInfoBtn"
            disabled
          >
            Vyhledat vozidlo dle ORV
          </button>
        </div>

        <div id="errorEl" class="mt-4 mb-1"></div>

        <div class="jumbotron jumbotron-fluid">
          <div class="container">
            <h4 class="">Um√≠me zdarma zobrazit n√°sleduj√≠c√≠ √∫daje:</h4>
            <!-- <h1 class="display-5">Um√≠me zdarma zobrazit n√°sleduj√≠c√≠ √∫daje:</h1> -->
            <p class="">
              ‚úÖ Z√°kladn√≠ √∫daje o vozidle <br />
              ‚úÖ Datum prvn√≠ registrace <br />
              ‚úÖ Platnost technick√© prohl√≠dky STK <br />
              ‚úÖ Technick√© √∫daje o vozidle <br />
              ‚úÖ V√≠ce ne≈æ 90 dal≈°√≠ch √∫daj≈Ø <br />
              ‚ùå Vozidlo mus√≠ b√Ωt v ƒçesk√©m registru vozidel <br />
            </p>
          </div>
        </div>
      </div>

      <div
        id="newSearch"
        class="mt-4"
        style="display: none; justify-content: center"
      >
        <button
          class="btn btn-primary w-75"
          onclick="hideVehicleInfoContainer()"
        >
          Vyhledat jin√© vozidlo
        </button>
      </div>
      <div id="vehicleInfo" class="mt-4 mb-5"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function getVehicleInfo() {
        const vin = document
          .getElementById("vinInput")
          .value.replace(/[^a-zA-Z0-9]/g, "");
        const tp = document
          .getElementById("tpInput")
          .value.replace(/[^a-zA-Z0-9]/g, "");
        const orv = document
          .getElementById("orvInput")
          .value.replace(/[^a-zA-Z0-9]/g, "");

        const url =
          "https://corsproxy.io/?" +
          encodeURIComponent(
            vin
              ? `https://www.dataovozidlech.cz/api/Vozidlo/GetVehicleInfo?vin=${vin}`
              : tp
              ? `https://www.dataovozidlech.cz/api/Vozidlo/GetVehicleInfo?tp=${tp}`
              : `https://www.dataovozidlech.cz/api/Vozidlo/GetVehicleInfo?orv=${orv}`
          );

        fetch(url)
          .then((response) => response.json())
          .then((data) => {
            const infoDiv = document.createElement("div");
            infoDiv.classList.add("row", "mt-5", "mb-5", "align-items-center");

            const brandLogoSrc = getLogoSrc(
              data.find((item) => item.name === "TovarniZnacka")?.value
            );
            const brandLogoCol = document.createElement("div");
            brandLogoCol.classList.add("col-md-3", "text-center");
            const brandLogo = document.createElement("img");
            brandLogo.src = brandLogoSrc;
            brandLogo.alt = "Brand Logo";
            brandLogo.style.maxWidth = "200px";
            brandLogo.style.paddingRight = "40px";
            brandLogo.classList.add("img-fluid", "logo-img");
            brandLogoCol.appendChild(brandLogo);
            infoDiv.appendChild(brandLogoCol);

            const vehicleInfoCol = document.createElement("div");
            vehicleInfoCol.classList.add("col-md-4");
            const vehicleInfo = document.createElement("div");
            vehicleInfo.classList.add("vehicle-info");
            const brand =
              data.find((item) => item.name === "TovarniZnacka")?.value ||
              "Nezn√°m√° znaƒçka";
            const model =
              data.find((item) => item.name === "Typ")?.value ||
              "Nezn√°m√Ω model";
            const obchodniOznaceni =
              data.find((item) => item.name === "ObchodniOznaceni")?.value ||
              "";
            const firstRegistration =
              data.find((item) => item.name === "DatumPrvniRegistrace")
                ?.value || "Nezn√°m√© datum";
            const vinCode =
              data.find((item) => item.name === "VIN")?.value || "Nezn√°m√Ω VIN";
            vehicleInfo.innerHTML = `
                            <div><strong>Znaƒçka:</strong> ${brand}</div>
                            <div><strong>Model:</strong> ${model}</div>
                            <div><strong>Obchodn√≠ oznaƒçen√≠:</strong> ${obchodniOznaceni}</div>
                            <div><strong>Datum prvn√≠ registrace:</strong> ${firstRegistration}</div>
                            <div><strong>VIN:</strong> ${vinCode}</div>
                        `;
            vehicleInfoCol.appendChild(vehicleInfo);
            infoDiv.appendChild(vehicleInfoCol);

            const techInspectionCol = document.createElement("div");
            techInspectionCol.classList.add("col-md-4");
            const techInspection =
              data.find(
                (item) => item.name === "PravidelnaTechnickaProhlidkaDo"
              )?.value || "Nezn√°m√© datum";
            const techInspectionDiv = document.createElement("div");

            const povButtonDiv = document.createElement("div");

            const currentDate = new Date(); // Current date object

            // Parse the techInspection date string in the format "dd.MM.yyyy"
            const [day, month, year] = techInspection.split(".");
            const techInspectionDate = new Date(`${year}-${month}-${day}`);
            const techInspectionTime = techInspectionDate.getTime(); // Time in milliseconds

            const techInspectionDisplay = techInspection; // Display format is unchanged

            techInspectionDiv.innerHTML = `<strong>Pravideln√° technick√° prohl√≠dka do:</strong> <span style="color: ${
              techInspectionTime > currentDate.getTime() ? "green" : "red"
            }">${techInspectionDisplay}</span>`;
            techInspectionCol.appendChild(techInspectionDiv);

            povButtonDiv.innerHTML = `<a href="https://online.pojisteni.cz/vozidla/srovnani?ap=AWYPy1" class="btn btn-outline-primary w-90 mt-1 mb-1" role="button">Sjednat povinn√© ruƒçen√≠ üîó</a>
                  <a href="https://online.pojisteni.cz/vozidla/srovnani?ap=AWYPy1" class="btn btn-outline-primary w-90 mt-1 mb-1" role="button">Sjednat havarijn√≠ poji≈°tƒõn√≠ üîó</a>
                  <br>
                  <a href="https://cz.cebia.com/?vin=${vinCode}" class="btn btn-outline-primary w-100 mt-1 mb-1" role="button">Zobrazit historii vozu üîó</a>
                `;

            techInspectionCol.appendChild(povButtonDiv);

            infoDiv.appendChild(techInspectionCol);

            const vehicleInfoContainer = document.getElementById("vehicleInfo");
            vehicleInfoContainer.innerHTML = "";
            vehicleInfoContainer.appendChild(infoDiv);

            searchSection.style.display = "none";
            newSearch.style.display = "flex";

            let tableHtml = '<table class="table mt-4">';
            data.forEach((item) => {
              let itemValue = item.value;

              // Convert itemValue to string if it's not already a string
              if (typeof itemValue !== "string") {
                itemValue = String(itemValue);
              }

              // Check if itemValue contains "\n" and replace it with <br>
              if (itemValue.includes("\n")) {
                itemValue = itemValue.split("\n").join("<br>");
              }

              if (
                item.name !== "TovarniZnacka" &&
                item.name !== "Typ" &&
                item.name !== "DatumPrvniRegistrace" &&
                item.name !== "VIN" &&
                item.name !== "PravidelnaTechnickaProhlidkaDo" &&
                item.value !== ""
              ) {
                tableHtml += `<tr><th>${item.label}</th><td>${itemValue}</td></tr>`;
              }
            });
            tableHtml += "</table>";
            vehicleInfoContainer.innerHTML += tableHtml;
          })
          .catch((error) => {
            console.error("Chyba p≈ôi naƒç√≠t√°n√≠ dat:", error);
            document.getElementById("errorEl").innerHTML =
              '<p class="text-danger">Chyba p≈ôi naƒç√≠t√°n√≠ dat. Zadan√Ω VIN/TP/ORV pravdƒõpodobnƒõ neexistuje v Registru silniƒçn√≠ch vozidel.<br>Zkontrolujte k√≥d a zkuste to znovu.</p>';
          });
      }

      function getLogoSrc(brand) {
        const brandLogos = {
          "ALFA-ROMEO": "logos/alfa-romeo.svg",
          AUDI: "logos/audi.svg",
          BMW: "logos/bmw.svg",
          CHEVROLET: "logos/chevrolet.svg",
          CITROEN: "logos/citroen.svg",
          CUPRA: "logos/cupra.svg",
          DACIA: "logos/dacia.svg",
          FERRARI: "logos/ferrari.svg",
          FIAT: "logos/fiat.svg",
          FORD: "logos/ford.svg",
          HONDA: "logos/honda.svg",
          HYUNDAI: "logos/hyundai.svg",
          KIA: "logos/kia.svg",
          LANCIA: "logos/lancia.svg",
          "LAND-ROVER": "logos/land-rover.svg",
          MAZDA: "logos/mazda.svg",
          "MERCEDES-BENZ": "logos/mercedes-benz.svg",
          MITSUBISHI: "logos/mitsubishi.svg",
          OPEN: "logos/opel.svg",
          PEUGEOT: "logos/peugeot.svg",
          PORSCHE: "logos/porsche.svg",
          RENAULT: "logos/renault.svg",
          SAAB: "logos/saab.svg",
          SEAT: "logos/seat.svg",
          SKODA: "logos/skoda.svg",
          ≈†KODA: "logos/skoda.svg",
          TOYOTA: "logos/toyota.svg",
          VOLKSWAGEN: "logos/volkswagen.svg",
          VOLVO: "logos/volvo.svg",
          VW: "logos/volkswagen.svg",
        };

        return brandLogos[brand] || "logos/default_logo.svg";
      }

      const vinInput = document.getElementById("vinInput");
      const tpInput = document.getElementById("tpInput");
      const orvInput = document.getElementById("orvInput");

      const getInfoBtn = document.getElementById("getInfoBtn");
      const getTpInfoBtn = document.getElementById("getTpInfoBtn");
      const getOrvInfoBtn = document.getElementById("getOrvInfoBtn");

      function hideVehicleInfoContainer() {
        const element = document.getElementById("vehicleInfo");
        element.innerHTML = "";
        searchSection.style = null;
        newSearch.style.display = "none";
        vinInput.value = null;
        tpInput.value = null;
        orvInput.value = null;
        getInfoBtn.disabled = true;
        getTpInfoBtn.disabled = true;
        getOrvInfoBtn.disabled = true;
      }

      vinInput.addEventListener("input", () => {
        getInfoBtn.disabled = vinInput.value.trim().length != 17;
      });

      tpInput.addEventListener("input", () => {
        getTpInfoBtn.disabled =
          tpInput.value.trim().length < 6 || tpInput.value.trim().length > 10;
      });

      orvInput.addEventListener("input", () => {
        getOrvInfoBtn.disabled =
          orvInput.value.trim().length < 5 || orvInput.value.trim().length > 9;
      });

      vinInput.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
          event.preventDefault();
          getInfoBtn.click();
        }
      });

      tpInput.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
          event.preventDefault();
          getTpInfoBtn.click();
        }
      });

      orvInput.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
          event.preventDefault();
          getOrvInfoBtn.click();
        }
      });
    </script>

    <footer class="footer mt-auto py-3 bg-light m">
      <div class="container d-flex justify-content-between">
        <span class="text-muted" id="left"
          >Vin Info.cz | Kontrola vozidel zdarma</span
        >
        <span class="text-muted" id="right"
          >Zdroj dat:
          <a href="https://www.dataovozidlech.cz/" target="_blank"
            >Datov√° kostka</a
          ></span
        >
      </div>
    </footer>
  </body>
</html>
